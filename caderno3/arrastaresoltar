<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo: PDDE Equidade</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f4f8;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: #0056b3;
            text-align: center;
        }

        p {
            text-align: center;
            max-width: 800px;
        }

        #game-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 1200px;
            margin-top: 20px;
            flex-wrap: wrap; /* Para telas menores */
        }

        #itens-container {
            width: 100%;
            max-width: 300px;
            background-color: #fff;
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 15px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #categorias-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 800px;
        }

        .categoria {
            background-color: #ffffff;
            border: 2px solid #004a99;
            border-radius: 8px;
            padding: 10px;
            min-height: 150px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .categoria h3 {
            margin-top: 0;
            color: #004a99;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }

        .item {
            background-color: #e0e8f0;
            border: 1px solid #b0c4de;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 5px 0;
            cursor: grab;
            text-align: center;
            font-weight: bold;
            user-select: none;
            width: 90%;
        }

        .item:active {
            cursor: grabbing;
        }

        /* Estilos para o feedback visual */
        .categoria.hover {
            background-color: #d6eaff;
            border-style: dashed;
        }

        .item.correto {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            cursor: default;
        }

        /* Feedback e Botão */
        #feedback {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            height: 30px;
        }

        #feedback.sucesso {
            color: green;
        }

        #feedback.erro {
            color: red;
        }

        #resetBtn {
            margin-top: 15px;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #resetBtn:hover {
            background-color: #0056b3;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            #game-container {
                flex-direction: column-reverse;
                align-items: center;
            }

            #itens-container {
                min-height: 200px;
                margin-top: 20px;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 5px;
            }

            .item {
                width: auto;
            }
        }

    </style>
</head>
<body>

    <h1>Jogo: Categorias do PDDE Equidade</h1>
    <p>
        Arraste cada item da caixa "Itens de Programa" para a categoria correta à qual ele pertence, com base no documento do PDDE Equidade.
    </p>

    <div id="feedback"></div>
    <button id="resetBtn">Reiniciar Jogo</button>

    <div id="game-container">
        
        <div id="itens-container">
            <h3>Itens de Programa (Arraste-me)</h3>
            </div>

        <div id="categorias-container">
            
            <div class="categoria" data-category="srm">
                <h3>1. Programa Sala de Recursos Multifuncionais</h3>
                </div>
            
            <div class="categoria" data-category="agua">
                <h3>2. Programa Água, Esgotamento Sanitário e Infraestrutura</h3>
                </div>
            
            <div class="categoria" data-category="diversidades">
                <h3>3. Programa PDDE Diversidades</h3>
                </div>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const itensContainer = document.getElementById('itens-container');
            const categorias = document.querySelectorAll('.categoria');
            const feedback = document.getElementById('feedback');
            const resetBtn = document.getElementById('resetBtn');

            // Lista de itens baseada no documento PDF
            const todosOsItens = [
                { id: 'item1', texto: 'Atendimento Educacional Especializado (AEE)', category: 'srm' }, // [cite: 175]
                { id: 'item2', texto: 'Construção de Cisternas', category: 'agua' }, // [cite: 224]
                { id: 'item3', texto: 'Educação Escolar Indígena', category: 'diversidades' }, // [cite: 259]
                { id: 'item4', texto: 'Aquisição de tecnologia assistiva', category: 'srm' }, // [cite: 196]
                { id: 'item5', texto: 'Educação de Jovens e Adultos', category: 'diversidades' }, // [cite: 257]
                { id: 'item6', texto: 'Acesso à água potável (em áreas rurais)', category: 'agua' }, // [cite: 217]
                { id: 'item7', texto: 'Educação Escolar Quilombola', category: 'diversidades' }, // [cite: 260]
                { id: 'item8', texto: 'Construção de Fossas Sépticas', category: 'agua' }, // [cite: 224]
                { id: 'item9', texto: 'Público-Alvo da Educação Especial (PAEE)', category: 'srm' }, // [cite: 175]
                { id: 'item10', texto: 'Escolas Sustentáveis', category: 'diversidades' } // [cite: 262]
            ];

            let itensCorretos = 0;
            const totalItens = todosOsItens.length;

            function iniciarJogo() {
                itensCorretos = 0;
                feedback.textContent = '';
                feedback.className = '';
                itensContainer.innerHTML = '<h3>Itens de Programa (Arraste-me)</h3>'; // Limpa o container
                
                // Embaralha e adiciona os itens
                shuffleArray(todosOsItens).forEach(itemData => {
                    const itemEl = document.createElement('div');
                    itemEl.id = itemData.id;
                    itemEl.className = 'item';
                    itemEl.draggable = true;
                    itemEl.textContent = itemData.texto;
                    itemEl.dataset.category = itemData.category;
                    itensContainer.appendChild(itemEl);
                });

                // Limpa as categorias
                categorias.forEach(categoria => {
                    const titulo = categoria.querySelector('h3').outerHTML;
                    categoria.innerHTML = titulo;
                });

                adicionarEventListeners();
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function adicionarEventListeners() {
                const itens = document.querySelectorAll('.item');

                itens.forEach(item => {
                    item.addEventListener('dragstart', handleDragStart);
                    item.addEventListener('dragend', handleDragEnd);
                });

                categorias.forEach(categoria => {
                    categoria.addEventListener('dragover', handleDragOver);
                    categoria.addEventListener('dragleave', handleDragLeave);
                    categoria.addEventListener('drop', handleDrop);
                });
            }

            // Funções de Drag and Drop
            function handleDragStart(e) {
                e.dataTransfer.setData('text/plain', e.target.id);
                setTimeout(() => {
                    e.target.style.opacity = '0.5';
                }, 0);
            }

            function handleDragEnd(e) {
                e.target.style.opacity = '1';
            }

            function handleDragOver(e) {
                e.preventDefault();
                e.currentTarget.classList.add('hover');
            }

            function handleDragLeave(e) {
                e.currentTarget.classList.remove('hover');
            }

            function handleDrop(e) {
                e.preventDefault();
                e.currentTarget.classList.remove('hover');

                const idItem = e.dataTransfer.getData('text/plain');
                const item = document.getElementById(idItem);
                const zonaAlvo = e.currentTarget;

                // Verifica se a categoria está correta
                if (item.dataset.category === zonaAlvo.dataset.category) {
                    zonaAlvo.appendChild(item);
                    item.classList.add('correto');
                    item.draggable = false; // Impede de arrastar novamente
                    
                    itensCorretos++;
                    mostrarFeedback('Correto!', 'sucesso');
                    
                    // Verifica se o jogo terminou
                    if (itensCorretos === totalItens) {
                        mostrarFeedback('Parabéns! Você completou o jogo!', 'sucesso');
                    }
                } else {
                    mostrarFeedback('Incorreto! Tente outra categoria.', 'erro');
                }
            }

            function mostrarFeedback(mensagem, tipo) {
                feedback.textContent = mensagem;
                feedback.className = tipo;
                setTimeout(() => {
                    if (feedback.textContent === mensagem) {
                        feedback.textContent = '';
                        feedback.className = '';
                    }
                }, 2000);
            }

            // Event Listener do Botão
            resetBtn.addEventListener('click', iniciarJogo);

            // Inicia o jogo pela primeira vez
            iniciarJogo();
        });
    </script>

</body>
</html>
